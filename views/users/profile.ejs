<%- layout('layouts/boilerplate.ejs')%> 
<style>
#profile {
        height: 44px;
        text-align: center;
      }
</style>

<div class="card mb-5">
    <div id="profile" class="card-header align-text-center">
        <h4>MY PROFILE</h4>
    </div>
    <div style="text-align: justify;" class="card-body align-text-center col-8 mt-4 ms-5">
        <p>Name: <%= user.username %> </p>
        <p>Registration ID: <%= user.regId %> </p>
        <p>Email: <%= user.email %> </p>
    </div>
</div>
<div class="card mb-5">
    <div id="profile" class="card-header align-text-center">
        <h4>ISSUED BOOKS</h4>
    </div>
    <div style="text-align: justify;" class="card-body align-text-center col-8 mt-4 ms-5">
        <% if((user.issuedBooks).length === 0 && books.length === 0) { %> 
            <p class="card-text">No books currently issued</p>
        <%} else {%>
            <% for (let i=0; i<books.length; i++) { %>
                <ul>
                    <li><%= books[i].title %>   Date Issued: <%= (user.issuedBooks[i]).dateIssued%>   Return before: <%=(user.issuedBooks[i]).deadline%></li>
                </ul>
            <% } %> 
        <% } %>
    </div>
</div>
<div class="card mb-5">
    <div id="profile" class="card-header align-text-center">
        <h4>WISHLIST</h4>
    </div>
    <div style="text-align: justify;" class="card-body align-text-center col-8 mt-4 ms-5">
        <% if((user.wishlist).length === 0) {%> 
            <p class="card-text">Your wishlist is empty</p>
        <%} else {%>
            <% for (let book of user.wishlist) { %>
                <ul>
                    <li><a href="/books/<%= book._id %>"><%= book.title %> - <%= book.book_author %></a></li>
                </ul> 
            <% } %> 
        <% } %>  
        
    </div>
</div>
<div class="card mb-5">
    <div id="profile" class="card-header align-text-center">
        <h4>WAITING LIST</h4>
    </div>
    <div style="text-align: justify;" class="card-body align-text-center col-8 mt-4 ms-5">
        <% if((user.waitlist).length === 0) {%> 
            <p class="card-text">No book in waiting list</p>
        <%} else {%>
            <% for (let book of user.waitlist) { %>
                <ul>
                    <li><a href="/books/<%= book._id %>"><%= book.title %> - <%= book.book_author %></a></li>
                </ul> 
            <% } %> 
        <% } %>  
        
    </div>
</div>
<div class="card mb-5">
    <div id="profile" class="card-header align-text-center">
        <h4>BOOK BANK</h4>
    </div>
    <div style="text-align: justify;" class="card-body align-text-center col-8 mt-4 ms-5">
        <% if((user.bookBank).length === 0 && bbooks.length === 0) { %> 
            <p class="card-text">No books currently issued from Book Bank</p>
        <%} else {%>
            <% for (let i=0; i<bbooks.length; i++) { %>
                <ul>
                    <li><%= bbooks[i].title %>   Date Issued: <%= (user.bookBank[i]).dateIssued%>   Return before: <%=(user.bookBank[i]).deadline%></li>
                </ul>
            <% } %> 
        <% } %>
    </div>
</div>